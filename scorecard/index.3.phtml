<?php
$students = [
	[
		"firstName" => "James",
		"lastName" => "Fields",
		"grades" => [12, 11, 15],
		"average" => -1
	],
	[
		"firstName" => "Richard",
		"lastName" => "Stein",
		"grades" => [18, 12, 13],
		"average" => -1
	],
	[
		"firstName" => "Mark",
		"lastName" => "Hartoff",
		"grades" => [9, 11, 10],
		"average" => -1
	],
	[
		"firstName" => "Thomas",
		"lastName" => "Nestle",
		"grades" => [9, 8, 5],
		"average" => -1
	],
	[
		"firstName" => "Jeremy",
		"lastName" => "Brent",
		"grades" => [18, 15, 16],
		"average" => -1
	]
];

// Fonction pour calculer la moyenne des notes d'un étudiant
function calculateAverage($grades) {
    if (count($grades) === 0) {
        return 0; // Moyenne de 0 si aucune note n'est disponible
    }
    
    $average = array_sum($grades) / count($grades);

    // Utiliser number_format pour limiter à 2 chiffres après la virgule
    return number_format($average, 2);
}

// Parcourir le tableau des étudiants pour calculer et stocker la moyenne
foreach ($students as &$student) {
    $student["average"] = calculateAverage($student["grades"]);
}

?>

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>exercice scorecard</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
	    <?php
			    
	    
            foreach ($students as $student){
                echo "<article class=''>
            	<header>
            		<h1>". $student["firstName"] . "" . $student["lastName"] . "</h1>
            	</header>
            	<section>
            		<h2>Notes : </h2>
            		<ul>
            		"; 
            		foreach ($student["grades"] as $grade){
            			echo"<li>" . $grade . "</li>";
            		}
            			echo"
            		</ul>
            	</section>
            	<footer>

            		<h3>Moyenne des notes : " . $student["average"] . "</h3>
            	</footer>
            	
            </article>";
        	}
        	
        ?>
    </body>
</html>

<!--Nous allons continuer à compléter le code des étapes 1 et 2.

Parcourez une première fois le tableau des étudiants sans afficher e HTML. 

Pour chacun des étudiants, calculez sa moyenne (de préférence dans une fonction) et stocker là dans son tableau associatif.

Ensuite dans votre boucle qui affiche le HTML, dynamisez la moyenne de l'étudiant dans le `<h3>`.
-->
